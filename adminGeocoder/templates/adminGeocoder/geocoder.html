{% load static %}

<link rel="stylesheet" href="{% static 'adminGeocoder/css/map.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'adminGeocoder/css/geocoder.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'adminGeocoder/css/disambiguator.css' %}" type="text/css">

<div id="map-search-div">

    <div id="map">
    </div>
    
    <div id="search-pane" class="box">
    <form id="search-form" onsubmit="return geocode()">
        <div id="search-bar">
            <input name="search-input" type="text" autocomplete="off" class="form-control" autofocus>
            <button type="submit">Geocode</button>
        </div>
        <div id="search-options-bar">
            <a class="small" onclick="openOptionsPopup()">Advanced Options</a>
            <span>
                <span class="results-count">0</span>
                geocoded boundaries
            </span>
        </div>
        <div id="search-results">
        </div>
        <div id="export-bar">
            <button type="button" onclick="zoomMapToAllResults()">Preview</button>
            <a id="export-button" class="button button-primary" href="" onclick="exportResults()" download="admin-geocoder-export.geojson">Export as GeoJSON</a>
        </div>
    </form>
    </div>

</div>


<!----------------------->
<!-- Popups -->


<!-- Options -->

<div id="options-popup" class="popup is-hidden">
    <div class="popup-content" style="overflow:auto">

        <header>
            <a href="{% url 'dataset_add' %}" class="button small" style="float:right">Add New Dataset</a>
            <h2>Sources of Administrative Boundary Data</h2>
            <p>Geocoding is made possible by importing and standardizing boundary data from multiple boundary datasets.</p>
        </header>

        {% include 'adminManager/datasets.html' %}
        
    </div>
</div>

<!-- Disambiguation -->

<div id="disambiguation-popup" class="popup is-hidden">
    <div class="popup-content" style="overflow:auto">

        {% include 'adminGeocoder/disambiguator.html' %}

    </div>
</div>




<script src="{% static 'adminGeocoder/js/map.js' %}"></script>
<script src="{% static 'adminGeocoder/js/disambiguation-map.js' %}"></script>
<script src="{% static 'adminGeocoder/js/disambiguator.js' %}"></script>
<script src="{% static 'adminGeocoder/js/geocoder.js' %}"></script>
